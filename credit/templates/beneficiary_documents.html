<!DOCTYPE html>
<html>
<head>
    <title>My Documents</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
        .container { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; }
        h2 { color: #333; margin-bottom: 25px; font-size: 24px; }
        h3 { color: #555; margin-top: 30px; margin-bottom: 15px; font-size: 18px; border-bottom: 2px solid #667eea; padding-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th { background: #667eea; color: white; padding: 12px; text-align: left; }
        td { padding: 12px; border-bottom: 1px solid #ddd; }
        tr:hover { background: #f5f5f5; }
        a { color: #667eea; text-decoration: none; font-weight: 500; }
        a:hover { text-decoration: underline; }
        label { display: block; margin-top: 12px; margin-bottom: 5px; color: #555; font-weight: 500; }
        input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 14px; margin-bottom: 10px; }
        input:focus, select:focus { outline: none; border-color: #667eea; box-shadow: 0 0 5px rgba(102, 126, 234, 0.3); }
        .button-group { display: flex; gap: 10px; margin-top: 20px; }
        button { background: #667eea; color: white; padding: 10px 30px; border: none; border-radius: 5px; font-size: 14px; font-weight: bold; cursor: pointer; }
        button:hover { background: #5568d3; }
        .back-btn { background: #6c757d; }
        .back-btn:hover { background: #5a6268; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Your Documents</h2>

<table border="1" cellpadding="10">
    <tr>
        <th>Document Type</th>
        <th>Document Number</th>
        <th>View</th>
        <th>Uploaded</th>
    </tr>

    {% for doc in documents %}
    <tr>
        <td>{{ doc.get_doc_type_display }}</td>
        <td>{{ doc.document_number }}</td>
        <td>
            {% if doc.image %}
                <a href="{{ doc.image.url }}" target="_blank">View Document</a>
            {% else %}
                No File
            {% endif %}
        </td>
        <td>{{ doc.uploaded_at }}</td>
    </tr>
    {% endfor %}
</table>

<h3>Upload Documents</h3>
<p>Please upload mandatory documents: Aadhaar, PAN, Electricity bill, Mobile bill. Other documents are optional.</p>
<form method="POST" enctype="multipart/form-data" action="/beneficiary/upload-document/">
    {% csrf_token %}

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
        <!-- Aadhaar (mandatory) -->
        <div style="border:1px solid #eee; padding:12px; border-radius:6px;">
            <h4>Aadhaar Card (required)</h4>
            <label>Document Number</label>
            <input type="text" name="document_number_AADHAAR" value="{% for d in documents %}{% if d.doc_type == 'AADHAAR' %}{{ d.document_number }}{% endif %}{% endfor %}">
            <label>Upload Aadhaar</label>
            <input type="file" name="image_AADHAAR" accept="image/*">
        </div>

        <!-- PAN (mandatory) -->
        <div style="border:1px solid #eee; padding:12px; border-radius:6px;">
            <h4>PAN Card (required)</h4>
            <label>Document Number</label>
            <input type="text" name="document_number_PAN" value="{% for d in documents %}{% if d.doc_type == 'PAN' %}{{ d.document_number }}{% endif %}{% endfor %}">
            <label>Upload PAN</label>
            <input type="file" name="image_PAN" accept="image/*">
        </div>

        <!-- Electricity (mandatory) -->
        <div style="border:1px solid #eee; padding:12px; border-radius:6px;">
            <h4>Electricity Bill (required)</h4>
            <label>Consumer/Document Number</label>
            <input type="text" name="document_number_ELECTRICITY" value="{% for d in documents %}{% if d.doc_type == 'ELECTRICITY' %}{{ d.document_number }}{% endif %}{% endfor %}">
            <label>Upload Electricity Bill</label>
            <input type="file" name="image_ELECTRICITY" accept="image/*">
        </div>

        <!-- Mobile (mandatory) -->
        <div style="border:1px solid #eee; padding:12px; border-radius:6px;">
            <h4>Mobile Bill / Phone (required)</h4>
            <label>Number</label>
            <input type="text" name="document_number_MOBILE" value="{% for d in documents %}{% if d.doc_type == 'MOBILE' %}{{ d.document_number }}{% endif %}{% endfor %}">
            <label>Upload Mobile Bill (screenshot)</label>
            <input type="file" name="image_MOBILE" accept="image/*">
        </div>

        <!-- Water (optional) -->
        <div style="border:1px solid #eee; padding:12px; border-radius:6px;">
            <h4>Water Bill (optional)</h4>
            <label>Document Number</label>
            <input type="text" name="document_number_WATER" value="{% for d in documents %}{% if d.doc_type == 'WATER' %}{{ d.document_number }}{% endif %}{% endfor %}">
            <label>Upload Water Bill</label>
            <input type="file" name="image_WATER" accept="image/*">
        </div>

        <!-- Gas (optional) -->
        <div style="border:1px solid #eee; padding:12px; border-radius:6px;">
            <h4>Gas Bill (optional)</h4>
            <label>Document Number</label>
            <input type="text" name="document_number_GAS" value="{% for d in documents %}{% if d.doc_type == 'GAS' %}{{ d.document_number }}{% endif %}{% endfor %}">
            <label>Upload Gas Bill</label>
            <input type="file" name="image_GAS" accept="image/*">
        </div>
    </div>

    <div class="button-group" style="margin-top:16px;">
        <button type="submit">Upload Documents</button>
        <a href="/beneficiary/profile/"><button type="button" class="back-btn">Back to Profile</button></a>
    </div>
</form>
    </div>
</body>
</html>
